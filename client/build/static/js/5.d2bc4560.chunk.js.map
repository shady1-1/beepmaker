{"version":3,"sources":["views/SuperAdmin/Restaurants/index.js"],"names":["SuperAdminRestaurantsPage","useState","restaurants","setRestaurants","actionLoading","setActionLoading","loading","setLoading","useEffect","validationMailSuperAdmin","a","axios","url","method","then","res","data","catch","err","validateMail","_id","r","blockMail","className","alt","src","to","routes","superAdminHomePage","border","style","textAlign","map","e","width","isAuthorized","disabled","onClick","isVerified","email","restorer","fullname","societyName","fieldOfActivity","siretNumber","address","phone"],"mappings":"sPA0HeA,UAlHmB,WACjC,MAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA0CF,oBAAS,GAAnD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACAC,qBAAU,WACTD,GAAW,GACXE,IACAF,GAAW,KACT,IAEH,IAAME,EAAwB,uCAAG,sBAAAC,EAAA,sEAC1BC,IAAM,CACXC,IAAK,6BACLC,OAAQ,QAEPC,MAAK,SAACC,GACNZ,EAAeY,EAAIC,KAAKA,SAExBC,OAAM,SAACC,OARuB,2CAAH,qDAUxBC,EAAY,uCAAG,WAAOC,GAAP,SAAAV,EAAA,6DACpBL,GAAiB,GADG,SAEdM,IAAM,CACXC,IAAI,uCAAD,OAAyCQ,GAC5CP,OAAQ,QACNC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACDD,IADC,OAEPJ,GAAiB,GAFV,2CAHF,uDAFc,2CAAH,sDAUZiB,EAAS,uCAAG,WAAOF,GAAP,SAAAV,EAAA,6DACjBL,GAAiB,GADA,SAEXM,IAAM,CACXC,IAAI,oCAAD,OAAsCQ,GACzCP,OAAQ,QACNC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACDD,IADC,OAEPJ,GAAiB,GAFV,2CAHF,uDAFW,2CAAH,sDAWf,OACC,mCACC,qBAAKkB,UAAU,wBAAf,SACC,sBAAKA,UAAU,sBAAf,UACC,qBAAKA,UAAU,mBAAf,SACC,qBAAKC,IAAI,UAAUC,IAAI,yBAExB,sBAAKF,UAAU,cAAf,UACC,eAAC,IAAD,CAAMA,UAAU,WAAWG,GAAIC,IAAOC,mBAAtC,UACC,qBAAKJ,IAAI,UAAUC,IAAI,2BACvB,6CAED,qBAAKF,UAAU,wBAAf,SACC,wBAAOM,OAAO,IAAIC,MAAO,CAAEC,UAAW,UAAtC,UACC,gCACC,+BACC,uBACA,6CACA,wCACA,kDACA,+CACA,uDACA,oDACA,yCACA,uDAGAzB,GACD,gCACEJ,EAAY8B,KAAI,SAACC,GAAD,OAChB,+BACC,oBAAIH,MAAO,CAAEI,MAAO,QAApB,SACED,EAAEE,aACF,wBACCZ,UAAU,gBACVa,SAAUhC,EACViC,QAAS,kBAAMf,EAAUW,EAAEb,MAH5B,mBAQA,wBACCG,UAAU,mBACVa,SAAUhC,EACViC,QAAS,kBAAMlB,EAAac,EAAEb,MAH/B,wBASF,6BAAKa,EAAEE,aAAe,SAAM,iBAC5B,+BACEF,EAAEK,WAAa,SAAM,eADvB,OACmCL,EAAEM,SAErC,6BAAKN,EAAEO,SAASC,WAChB,6BAAKR,EAAES,cACP,6BAAKT,EAAEU,kBACP,6BAAKV,EAAEW,cACP,6BAAKX,EAAEY,UACP,6BAAKZ,EAAEa,UA7BCb,EAAEM","file":"static/js/5.d2bc4560.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport routes from \"../../../routes/superAdmin\";\r\n\r\nimport \"./restaurants.css\";\r\nimport \"../Home/home.css\";\r\n\r\nconst SuperAdminRestaurantsPage = () => {\r\n\tconst [restaurants, setRestaurants] = useState([]);\r\n\tconst [actionLoading, setActionLoading] = useState(false);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tvalidationMailSuperAdmin();\r\n\t\tsetLoading(false);\r\n\t}, []);\r\n\r\n\tconst validationMailSuperAdmin = async () => {\r\n\t\tawait axios({\r\n\t\t\turl: \"/api/admin/restaurant/list\",\r\n\t\t\tmethod: \"GET\",\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetRestaurants(res.data.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => { });\r\n\t};\r\n\tconst validateMail = async (_id) => {\r\n\t\tsetActionLoading(true);\r\n\t\tawait axios({\r\n\t\t\turl: `/api/admin/validate/mail/restaurant/${_id}`,\r\n\t\t\tmethod: \"GET\",\r\n\t\t}).then(async (r) => {\r\n\t\t\tawait validationMailSuperAdmin();\r\n\t\t\tsetActionLoading(false);\r\n\t\t});\r\n\t};\r\n\tconst blockMail = async (_id) => {\r\n\t\tsetActionLoading(true);\r\n\t\tawait axios({\r\n\t\t\turl: `/api/admin/block/mail/restaurant/${_id}`,\r\n\t\t\tmethod: \"GET\",\r\n\t\t}).then(async (r) => {\r\n\t\t\tawait validationMailSuperAdmin();\r\n\t\t\tsetActionLoading(false);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"restaurants-container\">\r\n\t\t\t\t<div className=\"restaurants-content\">\r\n\t\t\t\t\t<div className=\"restaurants-logo\">\r\n\t\t\t\t\t\t<img alt=\"loading\" src=\"../img/Group73.png\"></img>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"super-admin\">\r\n\t\t\t\t\t\t<Link className=\"btn-back\" to={routes.superAdminHomePage}>\r\n\t\t\t\t\t\t\t<img alt=\"loading\" src=\"../../img/btn-back.png\"></img>\r\n\t\t\t\t\t\t\t<span>Retour</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t<div className=\"restaurants-btn-items\">\r\n\t\t\t\t\t\t\t<table border=\"0\" style={{ textAlign: \"center\" }}>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t<th>AutorisÃ©</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>E-mail</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Nom et prÃ©nom</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>SociÃ©tÃ©</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Type de sociÃ©tÃ©</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>NumÃ©ro de siret</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Adresse</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>TÃ©lÃ©phone</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t{!loading && (\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{restaurants.map((e) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={e.email}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td style={{ width: \"65px\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{e.isAuthorized ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn block-btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={actionLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => blockMail(e._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tBlock\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn validate-btn\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={actionLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => validateMail(e._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tValidate\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.isAuthorized ? \"âœ…\" : \"ðŸš«\"}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{e.isVerified ? \"âœ…\" : \"ðŸš«\"}&nbsp;{e.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.restorer.fullname}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.societyName}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.fieldOfActivity}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.siretNumber}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.address}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{e.phone}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SuperAdminRestaurantsPage;"],"sourceRoot":""}
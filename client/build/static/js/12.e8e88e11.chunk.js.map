{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","views/Admin/Register/index.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","RegisterPage","props","useState","rightMenuActiveBtn","setrightMenuActiveBtn","message","setMessage","messageType","setMessageType","loading","setLoading","history","useHistory","location","useLocation","useEffect","type","changeView","_to","document","querySelector","setAttribute","registerLogic","a","preventDefault","registerForm","formData","FormData","tmp","values","push","data","JSON","stringify","restorer","fullname","shift","societyName","siretNumber","address","phone","fieldOfActivity","email","password","axios","url","method","headers","then","r","msg","iteams","substr","indexOf","status","catch","parse","request","response","split","map","className","dghlbw","href","onClick","alt","src","to","routes","adminRegisterPage","adminRegisterProPage","onSubmit","placeholder","name","required","defaultValue","onChange","disabled","hidden","title","index"],"mappings":"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","file":"static/js/12.e8e88e11.chunk.js","sourcesContent":["import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import axios from \"axios\";\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport routes from \"../../../routes/restaurant\";\r\n\r\nimport \"./register.css\";\r\n\r\nconst RegisterPage = (props) => {\r\n  const [rightMenuActiveBtn, setrightMenuActiveBtn] = useState(\"a1\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageType, setMessageType] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (props.type) {\r\n      if (props.type === \"pro\") {\r\n        changeView(\"cmvnax\");\r\n        setrightMenuActiveBtn(\"a3\");\r\n      } else if (props.type === \"register\") {\r\n        changeView(\"ag9tzq\");\r\n        setrightMenuActiveBtn(\"a1\");\r\n      }\r\n    } else {\r\n      changeView(\"ag9tzq\");\r\n      setrightMenuActiveBtn(\"a0\");\r\n    }\r\n  }, [location, props.type]);\r\n\r\n  const changeView = (_to) => {\r\n    setMessage([]);\r\n    setMessageType(\"\");\r\n    document.querySelector(\".register-container\").setAttribute(\"dghlbw\", _to);\r\n  };\r\n\r\n  const registerLogic = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const registerForm = document.querySelector(\"form\");\r\n    const formData = new FormData(registerForm);\r\n\r\n    const tmp = [];\r\n    for (var value of formData.values()) tmp.push(value);\r\n\r\n    const data = JSON.stringify({\r\n      restorer: {\r\n        fullname: tmp.shift(),\r\n      },\r\n      societyName: tmp.shift(),\r\n      siretNumber: tmp.shift(),\r\n      address: tmp.shift(),\r\n      phone: tmp.shift(),\r\n      fieldOfActivity: tmp.shift(),\r\n      email: tmp.shift(),\r\n      password: tmp.shift(),\r\n    });\r\n\r\n    await axios({\r\n      url: \"/api/restaurant/register\",\r\n      method: \"POST\",\r\n      data,\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      'Accept': 'application/json'\r\n    })\r\n      .then((r) => {\r\n        const msg = r.data.message;\r\n        const iteams = [];\r\n        iteams.push(msg.substr(msg.indexOf(\":\") + 1));\r\n        setMessage(iteams);\r\n        setMessageType(r.data.status === \"ok\" ? \"ok\" : \"ko\");\r\n        setLoading(false);\r\n      })\r\n      .catch((e) => {\r\n        const msg = JSON.parse(e.request.response).message;\r\n        const iteams = [];\r\n\r\n        iteams.push(msg.substr(0, msg.indexOf(\":\")));\r\n        msg\r\n          .substr(msg.indexOf(\":\") + 1)\r\n          .split(\",\")\r\n          .map((e) => iteams.push(e));\r\n        setMessage(iteams);\r\n        setMessageType(\"ko\");\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"register-container\" dghlbw=\"ag9tzq\">\r\n        <div className=\"register-content\">\r\n          <div className=\"navbar\">\r\n            <div className=\"logo\">\r\n              <a\r\n                href=\"/\"\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  history.push(\"/\");\r\n                  changeView(\"ag9tzq\");\r\n                }}\r\n              >\r\n                <img alt=\"loading\" src=\"../img/Group73.png\"></img>\r\n              </a>\r\n            </div>\r\n            <div className={\"menu-right \" + rightMenuActiveBtn}>\r\n              <Link className=\"btn-1\" to={routes.adminRegisterPage}>\r\n                Inscription\r\n              </Link>\r\n              <Link className=\"btn-1\" to=\"/login\">\r\n                Connexion\r\n              </Link>\r\n              <Link className=\"btn-1\" to={routes.adminRegisterProPage}>\r\n                Espace pro\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className=\"container\">\r\n            <div className=\"img img1\">\r\n              <img\r\n                alt=\"loading\"\r\n                src=\"../img/nate-johnston-ozHMc88WgcI-unsplash.jpg\"\r\n              />\r\n              <div className=\"shadow\">\r\n                <div className=\"text text2\">\r\n                  <span className=\"text_1\">\r\n                    Cumulez vos points de fidélité dans tous les restaurants\r\n                    partenaires\r\n                  </span>\r\n                  <br></br>\r\n                  <button className=\"pro pro2\">Commencez</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"transition1\"></div>\r\n            <div className=\"img img2\">\r\n              <img\r\n                alt=\"loading\"\r\n                src=\"../img/angelika-agibalova-_wb8P6oy3FE-unsplash.jpg\"\r\n              />\r\n              <div className=\"shadow\">\r\n                <div className=\"text\">\r\n                  <span className=\"text_2\">\r\n                    Créez du lien avec vos clients avec Beepmaker\r\n                  </span>\r\n                  <br></br>\r\n                  <button\r\n                    className={\"btn pro sonar \" + rightMenuActiveBtn}\r\n                    onClick={() => {\r\n                      history.push(\"/register/pro\");\r\n                      changeView(\"cmvnax\");\r\n                    }}\r\n                  >\r\n                    Espace pro\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"transition2\"></div>\r\n            <div className=\"home-register\">\r\n              <div className=\"home-register2\">\r\n                <div className=\"title\">\r\n                  <h2>Demande de partenariat</h2>\r\n                </div>\r\n                <div className=\"content\">\r\n                  <form onSubmit={registerLogic}>\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Nom et prénom du responsable\"\r\n                      name=\"fullname\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Nom de la société\"\r\n                      name=\"societyName\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Numéro de siret\"\r\n                      name=\"siretNumber\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Adresse du siege social\"\r\n                      name=\"address\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"phone\"\r\n                      placeholder=\"Numéro de téléphone\"\r\n                      name=\"phone\"\r\n                      required\r\n                    />\r\n                    <select\r\n                      name=\"fieldOfActivity\"\r\n                      defaultValue=\"test\"\r\n                      onChange={() => {}}\r\n                    >\r\n                      <option value=\"\" disabled hidden>\r\n                        Type d'entreprise\r\n                      </option>\r\n                      <option\r\n                        value=\"Entreprise individuelle\"\r\n                        title=\"Entreprise individuelle\"\r\n                      >\r\n                        Entreprise individuelle\r\n                      </option>\r\n                      <option\r\n                        value=\"Société à responsabilité limitée (SARL)\"\r\n                        title=\"Société à responsabilité limitée (SARL)\"\r\n                      >\r\n                        Société à responsabilité limitée (SARL)\r\n                      </option>\r\n                      <option\r\n                        value=\"Société unipersonnelle à responsabilité limitée (SUARL)\"\r\n                        title=\"Société unipersonnelle à responsabilité limitée (SUARL)\"\r\n                      >\r\n                        Société unipersonnelle à responsabilité limitée (SUARL)\r\n                      </option>\r\n                      <option\r\n                        value=\"Société anonyme (SA)\"\r\n                        title=\"Société anonyme (SA)\"\r\n                      >\r\n                        Société anonyme (SA)\r\n                      </option>\r\n                      <option\r\n                        value=\"Société en commandite par actions (SCA)\"\r\n                        title=\"Société en commandite par actions (SCA)\"\r\n                      >\r\n                        Société en commandite par actions (SCA)\r\n                      </option>\r\n                    </select>\r\n                    <input\r\n                      type=\"email\"\r\n                      placeholder=\"Mail\"\r\n                      name=\"email\"\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"password\"\r\n                      placeholder=\"Mot de passe\"\r\n                      name=\"password\"\r\n                      required\r\n                    />\r\n                    {message.length > 0 && (\r\n                      <div className={\"alert-message \" + messageType}>\r\n                        {message.map((e, index) =>\r\n                          index === 0 ? (\r\n                            <span key={index}>\r\n                              <b>{e}</b>\r\n                            </span>\r\n                          ) : (\r\n                            <li key={index}>{e}</li>\r\n                          )\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                    <button\r\n                      type=\"submit\"\r\n                      disabled={loading}\r\n                      className=\"btn btn-submit\"\r\n                    >\r\n                      Créer un compte\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;"],"sourceRoot":""}
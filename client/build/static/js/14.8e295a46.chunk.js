(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{130:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(35);function r(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(a.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}},137:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(130),s=n(6),o=n(5),c=n(17),l=n.n(c),u=n(3),d=n(21),b=n(0),m=n(36),p=(n(137),n(1));t.default=function(){var e=Object(u.g)(),t=Object(u.h)(),n=Object(b.useState)(""),a=Object(o.a)(n,2),c=a[0],f=a[1],j=Object(b.useState)(""),h=Object(o.a)(j,2),O=h[0],v=h[1],g=Object(b.useState)(!1),y=Object(o.a)(g,2),x=y[0],S=y[1];function w(){return(w=Object(s.a)(r.a.mark((function n(a){var s,o,c,u,d,b,p;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a.preventDefault(),S(!0),f(""),s=document.querySelector("form"),o=new FormData(s),c=[],u=Object(i.a)(o.values());try{for(u.s();!(d=u.n()).done;)b=d.value,c.push(b)}catch(r){u.e(r)}finally{u.f()}return p=JSON.stringify({email:c.shift(),password:c.shift()}),n.next=11,l()({url:"/api/admin/login",method:"POST",data:p,headers:{"Content-Type":"application/json"}}).then((function(n){if(n.data.token){v("ok"),f("Connexion success : Login ok"),localStorage.setItem("admin-token",n.data.token),S(!1);var a=new URLSearchParams(t.search).get("next"),r=Object.values(m.a).includes(a);e.push(r?a:m.a.superAdminHomePage)}})).catch((function(e){var t,n=(null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.response)?JSON.parse(e.request.response).message:e.message;f(n),v("ko"),S(!1)}));case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(p.jsxs)("div",{className:"login-container",children:[Object(p.jsx)("div",{className:"container-left",children:Object(p.jsx)("img",{alt:"loading",src:"../img/login2.jpg"})}),Object(p.jsx)("div",{className:"container-right",children:Object(p.jsxs)("div",{className:"login",children:[Object(p.jsx)(d.b,{to:"/",children:Object(p.jsx)("img",{alt:"loading",src:"../img/Group73.png"})}),Object(p.jsx)("div",{className:"login-title",children:"C'est parti !"}),Object(p.jsxs)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(p.jsx)("input",{type:"email",placeholder:"Adresse e-mail",name:"email",required:!0}),Object(p.jsx)("input",{type:"password",placeholder:"Mot de passe",name:"password",required:!0,autocompele:"on"}),c&&Object(p.jsx)("div",{className:"alert-message "+O,children:c}),Object(p.jsx)("button",{type:"submit",disabled:x,className:"btn btn-submit",children:"Connexion"})]})]})})]})}}}]);
//# sourceMappingURL=14.8e295a46.chunk.js.map
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[16],{145:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),s=a(6),i=a(5),l=a(17),r=a.n(l),o=a(0),d=a(21),j=a(34),b=(a(145),a(1));t.default=function(){var e=Object(o.useState)("../../img/no_image.png"),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(o.useState)(null),m=Object(i.a)(l,2),u=m[0],g=m[1],O=Object(o.useState)(""),h=Object(i.a)(O,2),p=h[0],x=h[1],A=Object(o.useState)(!0),f=Object(i.a)(A,2),v=f[0],N=f[1],S=Object(o.useState)(""),y=Object(i.a)(S,2),C=y[0],R=y[1],k=Object(o.useState)(""),w=Object(i.a)(k,2),F=w[0],I=w[1];Object(o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")),t=e.societyName,a=e.imageURL;R(t),I(a?"/static/images/".concat(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=")}),[]);function P(){return(P=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("file",u),e.next=5,r()({url:"/api/restaurant/upload",method:"POST",data:a,headers:{Authorization:"auth-token:".concat(localStorage.getItem("token")),"Content-Type":"multipart/form-data"}}).then((function(e){if(!0===e.data.success){t.target.reset();var a=JSON.parse(localStorage.getItem("user"));a.imageURL=e.data.filename,localStorage.setItem("user",JSON.stringify(a)),I("/static/images/".concat(e.data.filename)),g(null),x(!1),c(!1),N(!0)}})).catch((function(e){}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"logo-container",children:Object(b.jsxs)("div",{className:"logo-content",children:[Object(b.jsxs)(d.b,{className:"btn-back",to:j.a.adminHomePage,children:[Object(b.jsx)("img",{alt:"loading",src:"../../img/btn-back.png"}),Object(b.jsx)("span",{children:"Retour"})]}),Object(b.jsxs)("div",{className:"cl",children:[Object(b.jsx)("div",{className:"container-left",children:Object(b.jsxs)("div",{className:"vertical-menu",children:[Object(b.jsx)("div",{className:"logo-image",children:Object(b.jsx)("img",{alt:"loading",src:F})}),Object(b.jsx)("div",{className:"logo-name",children:Object(b.jsx)("span",{children:C})}),Object(b.jsx)("div",{className:"separation"}),Object(b.jsxs)("div",{className:"logo-settings",children:[Object(b.jsx)(d.b,{to:j.a.adminAccountPage,children:Object(b.jsx)("span",{children:"Compte"})}),Object(b.jsx)(d.b,{className:"active",to:j.a.adminLogoPage,children:Object(b.jsx)("span",{children:"Logo"})}),Object(b.jsx)(d.b,{to:j.a.adminConfidentialityPage,children:Object(b.jsx)("span",{children:"Confidentialit\xe9"})}),Object(b.jsx)(d.b,{to:j.a.adminPaymentPage,children:Object(b.jsx)("span",{children:"Modes de paiement"})}),Object(b.jsx)(d.b,{to:j.a.adminQRCode,children:Object(b.jsx)("span",{children:"G\xe9n\xe9rer Qrcode"})})]})]})}),Object(b.jsx)("div",{className:"container-right",children:Object(b.jsxs)("div",{className:"account",children:[Object(b.jsx)("div",{className:"logo-title",children:"Aper\xe7u de l\u2019image"}),Object(b.jsx)("div",{className:"logo-img-container",children:Object(b.jsx)("img",{alt:"loading",src:a||"../../img/no_image.png"})}),Object(b.jsx)("div",{className:"logo-title logo-title-input",children:"Ajouter/Modifier l\u2019image:"}),Object(b.jsxs)("div",{className:"container-upload",children:[Object(b.jsx)("label",{className:"upload-text",htmlFor:"uplaod",children:Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:p||"Aucun fichier s\xe9lectionn\xe9"})})}),Object(b.jsx)("label",{className:"btn button",htmlFor:"uplaod",children:"T\xe9l\xe9charger une image"})]}),Object(b.jsxs)("form",{onSubmit:function(e){return P.apply(this,arguments)},children:[Object(b.jsx)("input",{className:"logo-hide-input",id:"uplaod",type:"file",accept:"image/*",onChange:function(e){return function(e){var t=e.target.files[0];if(console.log(t),t){var a=new FileReader;a.onloadend=function(){return c(a.result)},a.readAsDataURL(t),x(e.target.files[0].name),g(e.target.files[0]),N(!1)}else c(null),x(null),N(!0)}(e)},required:!0}),Object(b.jsx)("button",{type:"submit",className:"btn btn-logo-submit",disabled:v,children:"Enregistrer"})]})]})})]})]})})})}}}]);
//# sourceMappingURL=16.965d2b35.chunk.js.map
{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","views/Admin/ForgotPassword/index.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","ForgotPassword","useState","message","setmessage","messageType","setMessageType","loading","setLoading","loginLogic","a","preventDefault","resetPasswordForm","document","querySelector","formData","FormData","tmp","values","push","data","JSON","stringify","email","shift","password","axios","url","method","headers","then","res","reset","catch","msg","request","response","parse","className","alt","src","to","onSubmit","type","placeholder","name","required","disabled"],"mappings":"kGAAA,8CACe,SAASA,EAA2BC,EAAGC,GACpD,IAAIC,EAEJ,GAAsB,qBAAXC,QAAgD,MAAtBH,EAAEG,OAAOC,UAAmB,CAC/D,GAAIC,MAAMC,QAAQN,KAAOE,EAAK,YAA2BF,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAEO,OAAqB,CAC/GL,IAAIF,EAAIE,GACZ,IAAIM,EAAI,EAEJC,EAAI,aAER,MAAO,CACLC,EAAGD,EACHE,EAAG,WACD,OAAIH,GAAKR,EAAEO,OAAe,CACxBK,MAAM,GAED,CACLA,MAAM,EACNC,MAAOb,EAAEQ,OAGbM,EAAG,SAAWC,GACZ,MAAMA,GAERC,EAAGP,GAIP,MAAM,IAAIQ,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLV,EAAG,WACDR,EAAKF,EAAEG,OAAOC,aAEhBO,EAAG,WACD,IAAIU,EAAOnB,EAAGoB,OAEd,OADAH,EAAmBE,EAAKT,KACjBS,GAETP,EAAG,SAAWS,GACZH,GAAS,EACTF,EAAMK,GAERP,EAAG,WACD,IACOG,GAAoC,MAAhBjB,EAAW,QAAWA,EAAW,SAC1D,QACA,GAAIkB,EAAQ,MAAMF,O,yJCqBXM,UAnEQ,WACtB,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAsCF,mBAAS,IAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KAEMC,EAAU,uCAAG,WAAMlB,GAAN,2BAAAmB,EAAA,sDAClBnB,EAAEoB,iBACFH,GAAW,GACXJ,EAAW,IACLQ,EAAoBC,SAASC,cAAc,QAC3CC,EAAW,IAAIC,SAASJ,GAExBK,EAAM,GAPM,cAQAF,EAASG,UART,IAQlB,2BAAS5B,EAAT,QAAqC2B,EAAIE,KAAK7B,GAR5B,qCAUZ8B,EAAOC,KAAKC,UAAU,CAC3BC,MAAON,EAAIO,QACXC,SAAUR,EAAIO,UAZG,UAeZE,IAAM,CACXC,IAAK,iCACLC,OAAQ,OACRR,OACAS,QAAS,CAAE,eAAgB,sBAE1BC,MAAK,SAACC,GACNnB,EAAkBoB,QAClB5B,EAAW2B,EAAIX,KAAKjB,SACpBG,EAAe,MACfE,GAAW,MAEXyB,OAAM,SAAC1C,GAAO,IAAD,EACbqB,EAAkBoB,QAClB,IAAME,GAAO,OAAD3C,QAAC,IAADA,GAAA,UAAAA,EAAG4C,eAAH,eAAYC,UACrBf,KAAKgB,MAAM9C,EAAE4C,QAAQC,UAAUjC,QAC/BZ,EAAEY,QACLC,EAAW8B,GACX5B,EAAe,MACfE,GAAW,MAlCK,4CAAH,sDAsChB,OACC,sBAAK8B,UAAU,2BAAf,UACC,qBAAKA,UAAU,iBAAf,SACC,qBAAKC,IAAI,UAAUC,IAAI,wBAExB,qBAAKF,UAAU,kBAAf,SACC,sBAAKA,UAAU,QAAf,UACC,cAAC,IAAD,CAAMG,GAAG,IAAT,SACC,qBAAKF,IAAI,UAAUC,IAAI,yBAExB,qBAAKF,UAAU,cAAf,2CACA,uBAAMI,SAAUjC,EAAhB,UACC,uBAAOkC,KAAK,QAAQC,YAAY,uBAAuBC,KAAK,QAAQC,UAAQ,IAC3E3C,GAAW,qBAAKmC,UAAW,iBAAiBjC,EAAjC,SAA+CF,IAC3D,wBAAQwC,KAAK,SAASI,SAAUxC,EAAS+B,UAAU,iBAAnD","file":"static/js/9.17c38c87.chunk.js","sourcesContent":["import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./forgot-password.css\";\r\n\r\nconst ForgotPassword = () => {\r\n\tconst [message, setmessage] = useState(\"\");\r\n\tconst [messageType, setMessageType] = useState(\"\");\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst loginLogic = async(e) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoading(true);\r\n\t\tsetmessage(\"\");\r\n\t\tconst resetPasswordForm = document.querySelector(\"form\");\r\n\t\tconst formData = new FormData(resetPasswordForm);\r\n\r\n\t\tconst tmp = [];\r\n\t\tfor (var value of formData.values()) tmp.push(value);\r\n\r\n\t\tconst data = JSON.stringify({\r\n\t\t\temail: tmp.shift(),\r\n\t\t\tpassword: tmp.shift(),\r\n\t\t});\r\n\r\n\t\tawait axios({\r\n\t\t\turl: \"/api/restaurant/forgotPassword\",\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tdata,\r\n\t\t\theaders: { \"Content-Type\": \"application/json\" },\r\n\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tresetPasswordForm.reset();\r\n\t\t\t\tsetmessage(res.data.message);\r\n\t\t\t\tsetMessageType(\"ok\");\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((e) => {\r\n\t\t\t\tresetPasswordForm.reset();\r\n\t\t\t\tconst msg = e?.request?.response\r\n\t\t\t\t\t? JSON.parse(e.request.response).message\r\n\t\t\t\t\t: e.message;\r\n\t\t\t\tsetmessage(msg);\r\n\t\t\t\tsetMessageType(\"ko\");\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"forgotPassword-container\">\r\n\t\t\t<div className=\"container-left\">\r\n\t\t\t\t<img alt=\"loading\" src=\"../img/login3.jpg\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"container-right\">\r\n\t\t\t\t<div className=\"login\">\r\n\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t<img alt=\"loading\" src=\"../img/Group73.png\"></img>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<div className=\"login-title\">RÃ©initialiser mot de passe</div>\r\n\t\t\t\t\t<form onSubmit={loginLogic}>\r\n\t\t\t\t\t\t<input type=\"email\" placeholder=\"Votre adresse e-mail\" name=\"email\" required></input>\r\n\t\t\t\t\t\t{message && <div className={\"alert-message \"+messageType}>{message}</div>}\r\n\t\t\t\t\t\t<button type=\"submit\" disabled={loading} className=\"btn btn-submit\">\r\n\t\t\t\t\t\t\tEnvoyer\r\n            </button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ForgotPassword;\r\n"],"sourceRoot":""}
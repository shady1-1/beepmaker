{"version":3,"sources":["views/SuperAdmin/Manage/index.js"],"names":["SuperAdminManagePage","useState","restaurants","setRestaurants","actionLoading","setActionLoading","loading","setLoading","useEffect","validationMailSuperAdmin","a","axios","url","method","then","res","data","catch","err","validateMail","_id","r","blockMail","className","border","style","textAlign","map","e","email","isVerified","isAuthorized","disabled","onClick"],"mappings":"2KAyFeA,UAtFc,WAC3B,MAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAA0CF,oBAAS,GAAnD,mBAAOG,EAAP,KAAsBC,EAAtB,KACA,EAA8BJ,oBAAS,GAAvC,mBAAOK,EAAP,KAAgBC,EAAhB,KACAC,qBAAU,WACRD,GAAW,GACXE,IACAF,GAAW,KACV,IAEH,IAAME,EAAwB,uCAAG,sBAAAC,EAAA,sEACzBC,IAAM,CACVC,IAAK,6BACLC,OAAQ,QAEPC,MAAK,SAACC,GACLZ,EAAeY,EAAIC,KAAKA,SAEzBC,OAAM,SAACC,OARqB,2CAAH,qDAUxBC,EAAY,uCAAG,WAAOC,GAAP,SAAAV,EAAA,6DACnBL,GAAiB,GADE,SAEbM,IAAM,CACVC,IAAI,uCAAD,OAAyCQ,GAC5CP,OAAQ,QACPC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACAD,IADA,OAENJ,GAAiB,GAFX,2CAHF,uDAFa,2CAAH,sDAUZiB,EAAS,uCAAG,WAAOF,GAAP,SAAAV,EAAA,6DAChBL,GAAiB,GADD,SAEVM,IAAM,CACVC,IAAI,oCAAD,OAAsCQ,GACzCP,OAAQ,QACPC,KAHG,+BAAAJ,EAAA,MAGE,WAAOW,GAAP,SAAAX,EAAA,sEACAD,IADA,OAENJ,GAAiB,GAFX,2CAHF,uDAFU,2CAAH,sDAUf,OACE,sBAAKkB,UAAU,cAAf,UACE,6EAEA,wBAAOC,OAAO,IAAIC,MAAO,CAAEC,UAAW,UAAtC,UACE,gCACE,+BACE,uCACA,0CACA,4CACA,+CAGFpB,GACA,gCACGJ,EAAYyB,KAAI,SAACC,GAAD,OACf,+BACE,6BAAKA,EAAEC,QACP,6BAAKD,EAAEE,WAAa,SAAM,iBAC1B,6BAAKF,EAAEG,aAAe,SAAM,iBAC5B,6BACGH,EAAEG,aACD,wBACEC,SAAU5B,EACV6B,QAAS,kBAAMX,EAAUM,EAAER,MAF7B,wBAOA,wBACEY,SAAU5B,EACV6B,QAAS,kBAAMd,EAAaS,EAAER,MAFhC,+BAbGQ,EAAEC","file":"static/js/20.9972ec5b.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst SuperAdminManagePage = () => {\r\n  const [restaurants, setRestaurants] = useState([]);\r\n  const [actionLoading, setActionLoading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    validationMailSuperAdmin();\r\n    setLoading(false);\r\n  }, []);\r\n\r\n  const validationMailSuperAdmin = async () => {\r\n    await axios({\r\n      url: \"/api/admin/restaurant/list\",\r\n      method: \"GET\",\r\n    })\r\n      .then((res) => {\r\n        setRestaurants(res.data.data);\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n  const validateMail = async (_id) => {\r\n    setActionLoading(true);\r\n    await axios({\r\n      url: `/api/admin/validate/mail/restaurant/${_id}`,\r\n      method: \"GET\",\r\n    }).then(async (r) => {\r\n      await validationMailSuperAdmin();\r\n      setActionLoading(false);\r\n    });\r\n  };\r\n  const blockMail = async (_id) => {\r\n    setActionLoading(true);\r\n    await axios({\r\n      url: `/api/admin/block/mail/restaurant/${_id}`,\r\n      method: \"GET\",\r\n    }).then(async (r) => {\r\n      await validationMailSuperAdmin();\r\n      setActionLoading(false);\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"super-admin\">\r\n      <h2>Page de validation Email par le Super Admin</h2>\r\n\r\n      <table border=\"1\" style={{ textAlign: \"center\" }}>\r\n        <thead>\r\n          <tr>\r\n            <th>Email</th>\r\n            <th>Verified</th>\r\n            <th>Authorized</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        {!loading && (\r\n          <tbody>\r\n            {restaurants.map((e) => (\r\n              <tr key={e.email}>\r\n                <td>{e.email}</td>\r\n                <td>{e.isVerified ? \"âœ…\" : \"ðŸš«\"}</td>\r\n                <td>{e.isAuthorized ? \"âœ…\" : \"ðŸš«\"}</td>\r\n                <td>\r\n                  {e.isAuthorized ? (\r\n                    <button\r\n                      disabled={actionLoading}\r\n                      onClick={() => blockMail(e._id)}\r\n                    >\r\n                      Block mail\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      disabled={actionLoading}\r\n                      onClick={() => validateMail(e._id)}\r\n                    >\r\n                      Validate mail\r\n                    </button>\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        )}\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuperAdminManagePage;\r\n"],"sourceRoot":""}
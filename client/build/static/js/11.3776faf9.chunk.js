(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{130:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(35);function s(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n.a)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var s=0,c=function(){};return{s:c,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,o=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,i=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}},155:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(130),i=a(6),r=a(5),o=a(17),l=a.n(o),d=a(0),j=a(21),u=a(34),b=(a(155),a(1));t.default=function(){var e=Object(d.useState)(""),t=Object(r.a)(e,2),a=t[0],n=t[1],o=Object(d.useState)(""),m=Object(r.a)(o,2),p=m[0],h=m[1],f=Object(d.useState)(""),O=Object(r.a)(f,2),v=O[0],x=O[1],g=Object(d.useState)(""),y=Object(r.a)(g,2),w=y[0],N=y[1],S=Object(d.useState)(""),P=Object(r.a)(S,2),k=P[0],q=P[1],C=Object(d.useState)(!1),J=Object(r.a)(C,2),A=J[0],E=J[1],I=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n,i,r,o,d,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),E(!0),a=document.querySelector("form"),n=new FormData(a),i=[],r=Object(c.a)(n.values());try{for(r.s();!(o=r.n()).done;)d=o.value,i.push(d)}catch(s){r.e(s)}finally{r.f()}return j=JSON.stringify({oldPassword:i.shift(),newPassword1:i.shift(),newPassword2:i.shift()}),e.next=10,l()({url:"/api/restaurant/confidentiality/changePassword",method:"POST",data:j,headers:{Authorization:"auth-token:".concat(localStorage.getItem("token")),"Content-Type":"application/json"}}).then((function(e){if(!0===e.data.success?(q("ok"),a.reset()):q("ko"),N(e.data.message),/`/.test(e.data.message)){var t=e.data.message.split("`"),n=t.pop(),s=t.pop();N("New passwords length (".concat(s.length,") ").concat(n.slice(2)))}E(!1)})).catch((function(e){var t,a=(null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.response)?JSON.parse(e.request.response).message:e.message;N(a),E(!1)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user")),t=e.societyName,a=e.email,s=e.imageURL;h("Votre adresse e-mail est ".concat(a)),n(t),x("/static/images/".concat(s))}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"confidentiality-container",children:Object(b.jsxs)("div",{className:"confidentiality-content",children:[Object(b.jsxs)(j.b,{className:"btn-back",to:u.a.adminHomePage,children:[Object(b.jsx)("img",{alt:"loading",src:"../../img/btn-back.png"}),Object(b.jsx)("span",{children:"Retour"})]}),Object(b.jsxs)("div",{className:"cl",children:[Object(b.jsx)("div",{className:"container-left",children:Object(b.jsxs)("div",{className:"vertical-menu",children:[Object(b.jsx)("div",{className:"confidentiality-image",children:Object(b.jsx)("img",{alt:"loading",src:v})}),Object(b.jsx)("div",{className:"confidentiality-name",children:Object(b.jsx)("span",{children:a})}),Object(b.jsx)("div",{className:"separation"}),Object(b.jsxs)("div",{className:"confidentiality-settings",children:[Object(b.jsx)(j.b,{to:u.a.adminAccountPage,children:Object(b.jsx)("span",{children:"Compte"})}),Object(b.jsx)(j.b,{to:u.a.adminLogoPage,children:Object(b.jsx)("span",{children:"Logo"})}),Object(b.jsx)(j.b,{className:"active",to:u.a.adminConfidentialityPage,children:Object(b.jsx)("span",{children:"Confidentialit\xe9"})}),Object(b.jsx)(j.b,{to:u.a.adminPaymentPage,children:Object(b.jsx)("span",{children:"Modes de paiement"})}),Object(b.jsx)(j.b,{to:u.a.adminQRCode,children:Object(b.jsx)("span",{children:"G\xe9n\xe9rer Qrcode"})})]})]})}),Object(b.jsx)("div",{className:"container-right",children:Object(b.jsx)("div",{className:"confidentiality",children:Object(b.jsxs)("form",{onSubmit:I,children:[Object(b.jsx)("label",{className:"email confidentiality-title",children:"E-mail"}),Object(b.jsx)("input",{defaultValue:p,placeholder:"Nom et pr\xe9nom du responsable"}),Object(b.jsx)("label",{className:"password confidentiality-title",children:"Mot de passe"}),Object(b.jsx)("input",{type:"password",placeholder:"Saisir votre mot de passe actuel",name:"password-old",required:!0}),Object(b.jsx)("input",{type:"password",placeholder:"Saisir votre nouveau mot de passe",name:"password-new",required:!0}),Object(b.jsx)("input",{type:"password",placeholder:"Saisir votre nouveau mot de passe",name:"password-new-2",required:!0}),w&&Object(b.jsx)("div",{className:"alert-message "+k,children:w}),Object(b.jsx)("button",{type:"submit",disabled:A,className:"btn btn-confidentiality-submit",children:"Enregistrer"})]})})})]})]})})})}}}]);
//# sourceMappingURL=11.3776faf9.chunk.js.map